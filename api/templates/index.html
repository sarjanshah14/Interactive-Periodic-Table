<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Periodic Table</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body>
  <nav class="navbar">
    <a href="#periodic-table" class="navbar-brand">Periodic Table</a>
    <button class="hamburger" onclick="toggleMenu()" aria-label="Toggle navigation">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <ul class="nav-links">
      <li><a href="#compare-box">Compare</a></li>
      <li><a href="#search-box">Search</a></li>
      <li><a href="#faq">FAQ</a></li>
      <li><a href="#contact">Contact</a></li>
    </ul>
  </nav>
  
  <main>
    <div class="content">
      <div class="table-container">
        <div class="periodic-table" id="periodic-table">
          {% for element in elements %}
          <div class="element {{ element['type'] }}" data-symbol="{{ element['symbol'] }}"
            data-name="{{ element['name'] }}" data-number="{{ element['number'] }}"
            data-weight="{{ element['weight'] }}" data-fact="{{ element['fact']}}"
            style="grid-column: {{ element['group'] }}; grid-row: {{ element['period'] }};" onclick="showDetails(this)">
            <div class="number">{{ element['number'] }}</div>
            <div class="symbol">{{ element['symbol'] }}</div>
            <div class="name">{{ element['name'] }}</div>
          </div>
          {% endfor %}
        </div>
      </div>

      <div id="leg">
        <section class="legend">
          <div class="legend-item" data-type="alkali" onclick="highlightElements(this)">
            <div class="color-code alkali"></div>
            <span>Alkali metals</span>
          </div>
          <div class="legend-item" data-type="alkaline-earth" onclick="highlightElements(this)">
            <div class="color-code alkaline-earth"></div>
            <span>Alkaline earth metals</span>
          </div>
          <div class="legend-item" data-type="transition-metal" onclick="highlightElements(this)">
            <div class="color-code transition-metal"></div>
            <span>Transition metals</span>
          </div>
          <div class="legend-item" data-type="post-transition-metal" onclick="highlightElements(this)">
            <div class="color-code post-transition-metal"></div>
            <span>Post-transition metals</span>
          </div>
          <div class="legend-item" data-type="metalloid" onclick="highlightElements(this)">
            <div class="color-code metalloid"></div>
            <span>Metalloids</span>
          </div>
          <div class="legend-item" data-type="reactive-non-metal" onclick="highlightElements(this)">
            <div class="color-code reactive-non-metal"></div>
            <span>Reactive non-metals</span>
          </div>
          <div class="legend-item" data-type="noble-gas" onclick="highlightElements(this)">
            <div class="color-code noble-gas"></div>
            <span>Noble gases</span>
          </div>
          <div class="legend-item" data-type="lanthanide" onclick="highlightElements(this)">
            <div class="color-code lanthanide"></div>
            <span>Lanthanides</span>
          </div>
          <div class="legend-item" data-type="actinide" onclick="highlightElements(this)">
            <div class="color-code actinide"></div>
            <span>Actinides</span>
          </div>
          <div class="legend-item" data-type="unknown" onclick="highlightElements(this)">
            <div class="color-code unknown"></div>
            <span>Unknown properties</span>
          </div>
        </section>
      </div>

      <div class="func">
        <div class="compare-box" id="compare-box">
          <h2>Compare Elements</h2>
          <form id="compare-form">
            <label for="element1">Element 1:</label>
            <select id="element1" name="element1">
              {% for element in elements %}
              <option value="{{ element['symbol'] }}">{{ element['name'] }} ({{ element['symbol'] }})</option>
              {% endfor %}
            </select>
            <br><br>
            <label for="element2">Element 2:</label>
            <select id="element2" name="element2">
              {% for element in elements %}
              <option value="{{ element['symbol'] }}">{{ element['name'] }} ({{ element['symbol'] }})</option>
              {% endfor %}
            </select>
            <br><br>
            <button type="button" onclick="compareElements()">Compare</button>
          </form>
          <div id="compare-result" class="compare-result"></div>
        </div>
        
        <div class="details-box" id="details-box">
          <h2>Element Details</h2>
          <div id="details-content" class="details-result"></div>
          <div id="fact-prompt" class="fact-prompt" style="display:none;">
            <p>Do you want to know a fun fact about this element?</p>
            <input type="radio" id="yes-fact" name="fact" value="yes" onclick="showFact()">
            <label for="yes-fact">Yes</label>
            <input type="radio" id="no-fact" name="fact" value="no" onclick="hideFact()">
            <label for="no-fact">No</label>
          </div>
          <div id="fact-box">
            <h2>Fun Fact</h2>
            <p id="fact-content"></p>
          </div>
        </div>

        <div class="search-box" id="search-box">
          <h2>Search Element</h2>
          <form id="search-form">
            <label for="search-type">Search By:</label>
            <select id="search-type" name="search-type" onchange="updateSearchInput()">
              <option value="name">Name</option>
              <option value="number">Atomic Number</option>
              <option value="symbol">Symbol</option>
            </select>
            <br><br>
            <label for="search-input">Enter:</label>
            <input type="text" id="search-input" name="search-input" placeholder="Enter search value" required>
            <br><br>
            <button type="button" onclick="searchElement()">Search</button>
          </form>
          <div id="search-result" class="search-result"></div>
        </div>
      </div>
      
      <div class="faqbox">
        <div class="faq" id="faq">
          <a href="/faqq">
            <h2 id="faqsec">Frequency Asked Questions</h2>
          </a>
          <div class="faq-table">
            <table>
              <tr>
                <td class="faq-ques">What is the periodic table?</td>
                <td class="faq-ques">What is the atomic number?</td>
              </tr>
              <tr>
                <td class="faq-ques">Who created the periodic table?</td>
                <td class="faq-ques">What is an isotope?</td>
              </tr>
              <tr>
                <td class="faq-ques">How many elements are in the periodic table?</td>
                <td class="faq-ques">What is the most reactive metal?</td>
              </tr>
              <tr>
                <td class="faq-ques">What is the lightest element?</td>
                <td class="faq-ques">What is the most reactive non-metal?</td>
              </tr>
              <tr>
                <td class="faq-ques">What is the heaviest naturally occurring element?</td>
                <td class="faq-ques">What are transition metals?</td>
              </tr>
              <tr>
                <td class="faq-ques">Which element is liquid at room temperature?</td>
                <td class="faq-ques">What is the symbol for sodium?</td>
              </tr>
              <tr>
                <td class="faq-ques">What are noble gases?</td>
                <td class="faq-ques">Which element is used in pencils?</td>
              </tr>
              <tr>
                <td class="faq-ques">What is the most abundant element in the universe?</td>
                <td class="faq-ques">What is the rarest naturally occurring element?</td>
              </tr>
              <tr>
                <td class="faq-ques">What is the symbol for gold?</td>
                <td class="faq-ques">What is the element with the highest atomic number?</td>
              </tr>
              <tr>
                <td class="faq-ques">Which element has the highest melting point?</td>
                <td class="faq-ques">Which element is used in making semiconductors?</td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <footer>
    <div class="contact-us" id="contact">
      <h3>Contact Us</h3>
      <p>We would love to hear from you! Reach out to us through any of the following methods:</p>
      <ul style="list-style: none; padding: 0;">
        <li><strong>Email:</strong> <a href="mailto:shahsarjan968@gmail.com">shahsarjan968@gmail.com</a></li>
        <li><strong>Phone:</strong> +916351648593</li>
      </ul>
      <p>Follow us on social media:</p>
      <ul style="list-style: none; padding: 0; display: flex; gap: 15px; flex-wrap: wrap; justify-content: center;">
        <li><a href="https://www.facebook.com" target="_blank">Facebook</a></li>
        <li><a href="https://www.twitter.com" target="_blank">Twitter</a></li>
        <li><a href="https://www.instagram.com" target="_blank">Instagram</a></li>
        <li><a href="https://www.linkedin.com" target="_blank">LinkedIn</a></li>
      </ul>
    </div>
  </footer>

  <script>
    const elements = {{ elements | tojson | safe }};
    
    function toggleMenu() {
      document.querySelector('.nav-links').classList.toggle('active');
      document.querySelector('.hamburger').classList.toggle('active');
    }
    
    document.querySelectorAll('.nav-links a').forEach(link => {
      link.addEventListener('click', () => {
        document.querySelector('.nav-links').classList.remove('active');
        document.querySelector('.hamburger').classList.remove('active');
      });
    });
    
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        document.querySelector('.nav-links').classList.remove('active');
        document.querySelector('.hamburger').classList.remove('active');
      }
    });
    
    document.addEventListener('click', function(event) {
      const navLinks = document.querySelector('.nav-links');
      const hamburger = document.querySelector('.hamburger');
      if (navLinks.classList.contains('active') && 
          !navLinks.contains(event.target) && 
          !hamburger.contains(event.target)) {
        navLinks.classList.remove('active');
        hamburger.classList.remove('active');
      }
    });

    document.querySelectorAll('.element').forEach(item => {
      item.addEventListener('click', function () {
        const detailsDiv = document.getElementById('details-box');
        window.scrollTo({
          top: detailsDiv.offsetTop - 80,
          behavior: 'smooth'
        });
      });
    });

    function showDetails(element) {
      const name = element.dataset.name;
      const symbol = element.dataset.symbol;
      const number = element.dataset.number;
      const atomicWeight = element.dataset.weight;
      const fact = element.dataset.fact;

      const detailsContent = `
        <strong>Name:</strong> ${name}<br>
        <strong>Symbol:</strong> ${symbol}<br>
        <strong>Atomic Number:</strong> ${number}<br>
        <strong>Atomic Weight:</strong> ${atomicWeight}
      `;
      document.getElementById('details-content').innerHTML = detailsContent;

      document.getElementById('details-box').style.display = 'block';
      document.getElementById('fact-prompt').style.display = 'block';
      document.getElementById('fact-box').style.display = 'none';

      document.getElementById('yes-fact').checked = false;
      document.getElementById('no-fact').checked = false;
      document.getElementById('fact-content').textContent = fact;
    }

    function showFact() {
      document.getElementById('fact-box').style.display = 'block';
    }

    function hideFact() {
      document.getElementById('fact-box').style.display = 'none';
    }
    
    function highlightElements(legendItem) {
      document.querySelectorAll('.element').forEach(el => {
        el.classList.remove('glow');
      });
      const type = legendItem.dataset.type;
      document.querySelectorAll(`.element.${type}`).forEach(el => {
        el.classList.add('glow');
      });
    }
    
    function compareElements() {
      const element1Symbol = document.getElementById('element1').value;
      const element2Symbol = document.getElementById('element2').value;
      const element1 = elements.find(e => e.symbol === element1Symbol);
      const element2 = elements.find(e => e.symbol === element2Symbol);

      let resultHTML = '<h3>Comparison Result:</h3>';
      resultHTML += `<p><strong>Name:</strong> ${element1.name} vs ${element2.name}</p>`;
      resultHTML += `<p><strong>Symbol:</strong> ${element1.symbol} vs ${element2.symbol}</p>`;
      resultHTML += `<p><strong>Atomic Number:</strong> ${element1.number} vs ${element2.number}</p>`;
      resultHTML += `<p><strong>Atomic Weight:</strong> ${element1.weight} vs ${element2.weight}</p>`;

      document.getElementById('compare-result').innerHTML = resultHTML;
    }
    
    function updateSearchInput() {
      const searchType = document.getElementById('search-type').value;
      const searchInput = document.getElementById('search-input');
      searchInput.value = '';
      if (searchType === 'name') {
        searchInput.placeholder = "Enter element name";
      } else if (searchType === 'number') {
        searchInput.placeholder = "Enter atomic number";
      } else {
        searchInput.placeholder = "Enter element symbol";
      }
    }

    function searchElement() {
      const searchType = document.getElementById('search-type').value;
      const searchValue = document.getElementById('search-input').value.trim();

      if (searchValue === '') {
        return alert('Please enter a value to search.');
      }

      let element = null;
      if (searchType === 'name') {
        element = elements.find(e => e.name.toLowerCase() === searchValue.toLowerCase());
      } else if (searchType === 'number') {
        element = elements.find(e => e.number === parseInt(searchValue));
      } else if (searchType === 'symbol') {
        element = elements.find(e => e.symbol.toLowerCase() === searchValue.toLowerCase());
      }

      let resultHTML = '<h3>Search Result:</h3>';
      if (element) {
        resultHTML += `
          <p><strong>Name:</strong> ${element.name}</p>
          <p><strong>Symbol:</strong> ${element.symbol}</p>
          <p><strong>Atomic Number:</strong> ${element.number}</p>
          <p><strong>Atomic Weight:</strong> ${element.weight}</p>
        `;
      } else {
        resultHTML += '<p class="error">No such element found.</p>';
      }
      document.getElementById('search-result').innerHTML = resultHTML;
    }
  </script>
</body>
</html>

